<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>图片上传</title>
        <script type="text/javascript" src="../lib/jquery-3.4.1.js"></script>
    </head>
    <body>
    <input type="file" id="img"><input type="button" id="up" value="提交" onclick="addImg()">
    <img src="#" alt="">
    </body>
    <script>
        function addImg(){
            let datas = new FormData()
            datas.append('hhh',$('input[type=file]').get(0).files[0])
            $.ajax({
                url:'http://localhost:3000/file/addImg',
                type:'POST',
                data:datas,
                contentType:false,
                processData:false,
                success:(data)=>{
                    // alert(`http://localhost:3000${data.path}`)
                    $('img').attr('src',`http://localhost:3000/${data.path}`)
                    $('img').attr('style', 'width:320px;height:200px')
                    alert('提交成功')
                }
            })
        }
    </script>
</html>